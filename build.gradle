plugins {
    id 'java'
    id 'jacoco'
    id 'maven-publish'
    id "org.sonarqube" version "3.4.0.2513"
}

group = "eu.nonstatic"
version = "1.0.0"

repositories {
    mavenCentral()
}

def lombokVersion = '1.18.24'
def junitVersion = '5.9.1'

dependencies {
    annotationProcessor("org.projectlombok:lombok:$lombokVersion")
    implementation("com.ibm.icu:icu4j:71.1")
    implementation('org.slf4j:slf4j-api:2.0.1')
    compileOnly("org.projectlombok:lombok:$lombokVersion")

    testImplementation("org.junit.jupiter:junit-jupiter-api:$junitVersion")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:$junitVersion")
}

configurations.implementation {
    exclude group: 'org.slf4j', module: 'slf4j-simple'
}


java {
    sourceCompatibility = JavaVersion.toVersion("11")
    targetCompatibility = JavaVersion.toVersion("11")
}

test {
    useJUnitPlatform()
    finalizedBy jacocoTestReport
}

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }

    repositories {
        mavenLocal()
    }
}
